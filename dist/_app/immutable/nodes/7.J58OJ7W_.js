import{t as N,a as k}from"../chunks/MWlUta9F.js";import"../chunks/Cr08z2C_.js";import{p as Ar,l as T,b as jr,c as zr,s as o,m as g,g as r,d as a,r as t,e as n,f as Br,n as V,t as Hr}from"../chunks/KEtZLwNl.js";import{r as Ir,e as s}from"../chunks/DsHZA0Ws.js";import{i as K}from"../chunks/DMs4V4P0.js";import{r as C,s as U,a as Mr}from"../chunks/CNuxGUW-.js";import{s as b}from"../chunks/DJJMutK-.js";import{t as fr,f as Rr,a as Jr}from"../chunks/PPND2hhZ.js";import{b as pr,H as Or}from"../chunks/IDaCpaQl.js";import{i as qr}from"../chunks/BD252RSB.js";import{o as Dr}from"../chunks/BD5oiptb.js";import{u as Gr}from"../chunks/Hm5LeLRE.js";import{C as Tr}from"../chunks/BVEi7BbD.js";import{N as mr}from"../chunks/BdqMmB67.js";import{g as Vr}from"../chunks/BqHfDuCH.js";var Kr=N(`<p class="mt-1.5 text-xs text-red-400">Passwords don't match</p>`),Lr=N('<span class="flex items-center justify-center"><svg class="animate-spin h-5 w-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg> Saving...</span>'),Qr=N(`<span>Save Changes</span> <span class="absolute inset-0 flex items-center justify-center bg-indigo-800 opacity-0 
								group-hover:opacity-20 transition-opacity duration-200"></span>`,1),Wr=N(`<div class="mb-6"><h2 class="text-2xl font-semibold text-white mb-1">Profile Settings</h2> <p class="text-gray-400 text-sm">Update your personal information and account settings</p></div> <form class="space-y-6"><div class="grid grid-cols-1 md:grid-cols-2 gap-6"><div class="space-y-6"><div class="relative group"><label for="name" class="block text-sm font-medium text-gray-400 mb-1.5">Name</label> <div class="relative"><input type="text" id="name"> <div class="absolute inset-0 rounded-lg shadow-sm pointer-events-none"></div></div></div> <div class="relative group"><label for="username" class="block text-sm font-medium text-gray-400 mb-1.5">Username</label> <div class="relative"><input type="text" id="username"></div></div> <div class="relative group"><label for="email" class="block text-sm font-medium text-gray-400 mb-1.5">Email</label> <div class="relative"><input type="email" id="email"></div></div> <div class="relative group"><label for="phone" class="block text-sm font-medium text-gray-400 mb-1.5">Phone Number</label> <div class="relative"><input type="text" id="phone" placeholder="+8801xxxxxxxxx" required></div> <p class="mt-1 text-xs text-gray-400">Format: +8801XXXXXXXXX</p></div></div> <div class="space-y-6"><div class="relative group"><label for="about" class="block text-sm font-medium text-gray-400 mb-1.5">About Info</label> <div class="relative"><textarea id="about" rows="5"></textarea></div></div> <div class="p-4 bg-gray-700/30 rounded-lg border border-gray-700"><h3 class="text-sm font-medium text-gray-300 mb-3">Change Password</h3> <div class="mb-4 relative group"><label for="newPassword" class="block text-xs text-gray-400 mb-1.5">New Password</label> <div class="relative"><input type="password" id="newPassword" placeholder="Enter new password"></div></div> <div class="relative group"><label for="confirmPassword" class="block text-xs text-gray-400 mb-1.5">Confirm Password</label> <div class="relative"><input type="password" id="confirmPassword" placeholder="Confirm new password"></div> <!></div></div></div></div> <div class="pt-4 border-t border-gray-700"><div class="flex flex-col sm:flex-row gap-3"><button type="button" class="relative flex-1 bg-indigo-600 text-white py-3 px-4 rounded-lg hover:bg-indigo-700 
							transition-all duration-200 font-medium
							focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500
							disabled:opacity-60 disabled:cursor-not-allowed overflow-hidden group"><!></button> <button type="button" class="flex-1 bg-gray-600/50 text-white py-3 px-4 rounded-lg hover:bg-gray-600 
							transition-all duration-200 font-medium
							focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500
							disabled:opacity-60 disabled:cursor-not-allowed">Reset Form</button> <button type="button" class="flex-1 bg-transparent text-white py-3 px-4 rounded-lg border border-gray-600
							hover:bg-gray-700/50 transition-all duration-200 font-medium
							focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500">Go Back</button></div></div></form>`,1),Yr=N('<div class="flex items-center justify-center py-12"><div class="animate-pulse flex flex-col items-center"><div class="rounded-full bg-gray-700 h-12 w-12 mb-4"></div> <div class="h-4 bg-gray-700 rounded w-48 mb-2.5"></div> <div class="h-3 bg-gray-700 rounded w-32"></div></div></div>'),Zr=N('<div class="max-w-4xl mx-auto p-4 md:p-8 rounded-xl shadow-2xl mb-30"><!></div>');function fe(br,xr){Ar(xr,!1);const z=g(),B=g(),x=g();let u=g(),i=g({}),d=g(""),c=g(""),l=g(""),A=g(!1);const yr=/^(?:\+88)?01[3-9]\d{8}$/;Dr(async()=>{o(u,await Tr()),r(u)&&o(i,{...r(u)})});async function wr(){if(r(x))return;o(A,!0);const v={...r(i),...r(d)?{Password:await Or(r(d))}:{}};try{await Gr.update(r(u).id,v),mr("Saved Successfully",3e3,"success"),Vr("/dashboard/profile/")}catch{mr("Error saving data",3e3,"error")}finally{o(A,!1),o(d,""),o(c,"")}}function _r(){r(u)&&(o(i,{...r(u)}),o(d,""),o(c,""))}function hr(){window.history.back()}function f(v){o(l,v)}function p(){o(l,"")}T(()=>(r(u),r(i),r(d),r(c)),()=>{o(z,r(u)&&(JSON.stringify(r(i))!==JSON.stringify(r(u))||r(d)!==""||r(c)!==""))}),T(()=>(r(d),r(c)),()=>{o(B,r(d)===r(c))}),T(()=>(r(d),r(c),r(B)),()=>{o(x,(r(d)||r(c))&&!r(B))}),jr(),qr();var j=Zr(),Pr=a(j);{var kr=v=>{var S=Wr(),L=n(Br(S),2),H=a(L),I=a(H),M=a(I),Q=n(a(M),2),y=a(Q);C(y);let W;V(2),t(Q),t(M);var R=n(M,2),Y=n(a(R),2),w=a(Y);C(w);let Z;t(Y),t(R);var J=n(R,2),$=n(a(J),2),_=a($);C(_);let rr;t($),t(J);var er=n(J,2),ar=n(a(er),2),m=a(ar);C(m);let tr;t(ar),V(2),t(er),t(I);var sr=n(I,2),O=a(sr),or=n(a(O),2),h=a(or);Ir(h);let ir;t(or),t(O);var nr=n(O,2),q=n(a(nr),2),lr=n(a(q),2),X=a(lr);C(X);let dr;t(lr),t(q);var ur=n(q,2),D=n(a(ur),2),E=a(D);C(E);let cr;t(D);var Nr=n(D,2);{var Sr=e=>{var P=Kr();fr(1,P,()=>Jr,()=>({y:-5,duration:200})),k(e,P)};K(Nr,e=>{r(x)&&e(Sr)})}t(ur),t(nr),t(sr),t(H);var vr=n(H,2),gr=a(vr),F=a(gr),Xr=a(F);{var Er=e=>{var P=Lr();k(e,P)},Fr=e=>{var P=Qr();V(2),k(e,P)};K(Xr,e=>{r(A)?e(Er):e(Fr,!1)})}t(F);var G=n(F,2),Ur=n(G,2);t(gr),t(vr),t(L),Hr(()=>{W=b(y,1,`w-full p-3 bg-gray-700/60 border border-gray-600 text-white rounded-lg \r
									focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent\r
									transition-all duration-200`,null,W,{"ring-2":r(l)==="name","ring-indigo-500":r(l)==="name"}),U(y,r(i).Name),Z=b(w,1,`w-full p-3 bg-gray-700/60 border border-gray-600 text-white rounded-lg \r
									focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent\r
									transition-all duration-200`,null,Z,{"ring-2":r(l)==="username","ring-indigo-500":r(l)==="username"}),U(w,r(i).Username),rr=b(_,1,`w-full p-3 bg-gray-700/60 border border-gray-600 text-white rounded-lg \r
									focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent\r
									transition-all duration-200`,null,rr,{"ring-2":r(l)==="email","ring-indigo-500":r(l)==="email"}),U(_,r(i).Email),tr=b(m,1,`w-full p-3 bg-gray-700/60 border border-gray-600 text-white rounded-lg \r
									focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent\r
									transition-all duration-200`,null,tr,{"ring-2":r(l)==="phone","ring-indigo-500":r(l)==="phone"}),U(m,r(i).Phone_Number),Mr(m,"pattern",yr.source),ir=b(h,1,`w-full p-3 bg-gray-700/60 border border-gray-600 text-white rounded-lg \r
									focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent\r
									transition-all duration-200 resize-y`,null,ir,{"ring-2":r(l)==="about","ring-indigo-500":r(l)==="about"}),U(h,r(i).About_Info),dr=b(X,1,`w-full p-2.5 bg-gray-700/60 border border-gray-600 text-white rounded-lg \r
										focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent\r
										transition-all duration-200`,null,dr,{"ring-2":r(l)==="newPassword","ring-indigo-500":r(l)==="newPassword","border-red-500":r(x)}),cr=b(E,1,`w-full p-2.5 bg-gray-700/60 border border-gray-600 text-white rounded-lg \r
										focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent\r
										transition-all duration-200`,null,cr,{"ring-2":r(l)==="confirmPassword","ring-indigo-500":r(l)==="confirmPassword","border-red-500":r(x)}),F.disabled=!r(z)||r(x)||r(A),G.disabled=!r(z)}),s("input",y,e=>o(i,{...r(i),Name:e.target.value})),s("focus",y,()=>f("name")),s("blur",y,p),s("input",w,e=>o(i,{...r(i),Username:e.target.value})),s("focus",w,()=>f("username")),s("blur",w,p),s("input",_,e=>o(i,{...r(i),Email:e.target.value})),s("focus",_,()=>f("email")),s("blur",_,p),s("input",m,e=>o(i,{...r(i),Phone_Number:e.target.value})),s("focus",m,()=>f("phone")),s("blur",m,p),s("input",h,e=>o(i,{...r(i),About_Info:e.target.value})),s("focus",h,()=>f("about")),s("blur",h,p),pr(X,()=>r(d),e=>o(d,e)),s("focus",X,()=>f("newPassword")),s("blur",X,p),pr(E,()=>r(c),e=>o(c,e)),s("focus",E,()=>f("confirmPassword")),s("blur",E,p),s("click",F,wr),s("click",G,_r),s("click",Ur,hr),k(v,S)},Cr=v=>{var S=Yr();k(v,S)};K(Pr,v=>{r(u)?v(kr):v(Cr,!1)})}t(j),fr(1,j,()=>Rr,()=>({duration:300})),k(br,j),zr()}export{fe as component};
