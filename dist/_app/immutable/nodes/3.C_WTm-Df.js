import{t as b,a as d,n as W}from"../chunks/MWlUta9F.js";import"../chunks/Cr08z2C_.js";import{p as j,d as s,n as Y,r as n,c as P,l as M,s as l,g as t,m as g,b as q,e as h,t as B,f as R}from"../chunks/KEtZLwNl.js";import{i as L}from"../chunks/DMs4V4P0.js";import{i as S}from"../chunks/BD252RSB.js";import{g as _}from"../chunks/BqHfDuCH.js";import{e as z,s as G}from"../chunks/DsHZA0Ws.js";import{r as D,a as O}from"../chunks/CNuxGUW-.js";import{b as K,V as Q}from"../chunks/IDaCpaQl.js";import{p as X}from"../chunks/CWmzcjye.js";import{o as Z}from"../chunks/BD5oiptb.js";import{b as ee,u as te}from"../chunks/Hm5LeLRE.js";import{N}from"../chunks/BdqMmB67.js";import{C as re,I as oe}from"../chunks/DIRHSvSV.js";var ae=b('<footer class="w-full mt-10 mb-0 py-4 px-4 sm:px-6 bg-gray-900/40 backdrop-blur-md border-t border-purple-900/20"><div class="max-w-4xl mx-auto"><div class="flex justify-center items-center"><div class="text-gray-400 text-[11px] sm:text-[13px] whitespace-nowrap"> <a href="https://github.com/mmycin" class="text-purple-200 hover:text-purple-300 transition-colors duration-200 font-medium svelte-r8fpf9" target="_blank" rel="noopener noreferrer">Tahcin Ul Karim (Mycin)</a>. All rights reserved.</div></div></div></footer>');function se(u,f){j(f,!1);const r=new Date().getFullYear();S();var o=ae(),c=s(o),m=s(c),a=s(m),p=s(a);p.nodeValue=`Copyright Â© ${r??""} `,Y(2),n(a),n(m),n(c),n(o),d(u,o),P()}var ne=b('<div class="mb-4 text-red-500 text-sm"><p> </p></div>'),ie=W('<svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"></path></svg>'),le=W('<svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"></path></svg>'),ce=b(`<main class="flex items-center justify-center min-h-screen px-4 py-0 -mt-30 sm:-mt-20"><div class="bg-black/60 backdrop-blur-lg p-8 rounded-xl shadow-xl w-full max-w-md"><div class="text-center mb-6"><img src="/favicon.png" alt="Logo" class="mx-auto h-24 w-24 object-cover mb-4"> <h2 class="text-3xl font-semibold text-white">Welcome Back!</h2> <p class="text-gray-300 text-sm">Please log in to continue</p></div> <!> <form class="space-y-4"><div class="mb-4"><input type="text" id="username" minlength="4" maxlength="12" placeholder="Username" class="w-full px-4 py-3 border border-gray-700 bg-transparent text-white rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50 transition duration-200"></div> <div class="mb-6 relative"><input id="password" minlength="8" maxlength="50" placeholder="Password" class="w-full px-4 py-3 border border-gray-700 bg-transparent text-white rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50 transition duration-200"> <button type="button" class="absolute top-1/2 right-4 transform -translate-y-1/2 text-gray-400 hover:text-white focus:outline-none"><!></button></div> <button type="submit" class="w-full py-3 bg-blue-600 text-white rounded-md font-semibold hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 transition duration-200">Log In</button> <div class="mt-4 text-center"><span class="text-sm text-gray-500">If you are a member of The Rooftop Society and don't have an account, <a href="https://www.facebook.com/TahcinKarimMycin/" target="_blank" class="text-purple-600 cursor-pointer hover:text-purple-700 hover:underline focus:outline-none focus:ring-2 focus:ring-purple-500">Click Here</a> to contact with the admin.</span></div></form></div></main>`);function me(u,f){j(f,!1);let r=g(""),o=g(""),c=g(""),m=g(!1),a=[];const p=async()=>{if(!t(r)||!t(o)){l(c,"Username and Password are required.");return}const e=a.filter(i=>i.Username.toLowerCase().trim()===t(r).toLowerCase().trim())[0];if(e)if(await Q(t(o),e.Password)){const i=await re(e.id);e.JWT_Token=i;const y=await te.update(e.id,e);console.log(y,e),localStorage.setItem("token",i),localStorage.setItem("mode","fetch"),_("/dashboard"),N(`Logged in as ${e.Username}`)}else N("Invalid Credentials",3e3,"error");l(c,"")},w=()=>{l(m,!t(m))};Z(async()=>{a=await ee()}),M(()=>t(r),()=>{l(r,t(r).trim())}),M(()=>t(o),()=>{l(o,t(o).trim())}),q(),S();var v=ce(),T=s(v),U=h(s(T),2);{var E=e=>{var i=ne(),y=s(i),A=s(y,!0);n(y),n(i),B(()=>G(A,t(c))),d(e,i)};L(U,e=>{t(c)&&e(E)})}var k=h(U,2),C=s(k),V=s(C);D(V),n(C);var $=h(C,2),x=s($);D(x);var I=h(x,2),F=s(I);{var H=e=>{var i=ie();d(e,i)},J=e=>{var i=le();d(e,i)};L(F,e=>{t(m)?e(H):e(J,!1)})}n(I),n($),Y(4),n(k),n(T),n(v),B(()=>O(x,"type",t(m)?"text":"password")),K(V,()=>t(r),e=>l(r,e)),K(x,()=>t(o),e=>l(o,e)),z("click",I,w),z("submit",k,X(p)),d(u,v),P()}var de=b("<!> <!>",1),pe=b("<main><!></main>");function Le(u,f){j(f,!1);let r=g(!0);M(()=>(t(r),_),()=>{try{const a=localStorage.getItem("token");a!==null?oe(a)?(localStorage.removeItem("token"),l(r,!1),_("/")):(l(r,!0),_("/dashboard")):l(r,!1)}catch(a){console.log(a)}console.log(t(r))}),q(),S();var o=pe(),c=s(o);{var m=a=>{var p=de(),w=R(p);me(w,{});var v=h(w,2);se(v,{}),d(a,p)};L(c,a=>{t(r)||a(m)})}n(o),d(u,o),P()}export{Le as component};
